{"version":3,"file":"itee-couchbase.esm.js","sources":["../sources/TCouchBaseDatabase.js"],"sourcesContent":["/**\n * @author [Ahmed DCHAR]{@link https://github.com/dragoneel}\n * @license [BSD-3-Clause]{@link https://opensource.org/licenses/BSD-3-Clause}\n *\n * @file Todo\n *\n * @example Todo\n *\n */\n\nimport * as CoucheBaseDriver from 'couchbase'\nimport { TAbstractDatabase } from 'itee-database'\n\nclass TCouchBaseDatabase extends TAbstractDatabase {\n\n    constructor ( parameters = {} ) {\n\n        const _parameters = {\n            ...{},\n            ...parameters,\n            ...{\n                driver: CoucheBaseDriver\n            }\n        }\n\n        super( _parameters )\n\n    }\n\n    close ( /*onCloseCallback*/ ) {}\n\n    connect () {\n\n        var bucket = ( new this._driver.Cluster( 'http://localhost:8091' ) ).openBucket( 'bucketName' )\n\n        // add a document to a bucket\n        bucket.insert(\n            'document-key',\n            {\n                name:     'Matt',\n                shoeSize: 13\n            },\n            function ( err, result ) {\n                if ( err ) {\n                    this.logger.log( err )\n                } else {\n                    this.logger.log( result )\n                }\n            } )\n\n        // get all documents with shoe size 13\n        var n1ql  = 'SELECT d.* FROM `bucketName` d WHERE shoeSize = $1'\n        var query = this.driver.N1qlQuery.fromString( n1ql )\n        bucket.query( query, [ 13 ], function ( err, result ) {\n            if ( err ) {\n                this.logger.log( err )\n            } else {\n                this.logger.log( result )\n            }\n        } )\n\n    }\n\n    init () {\n        super.init()\n\n    }\n\n    on ( /*eventName, callback*/ ) {}\n}\n\nexport { TCouchBaseDatabase }\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA,MAAM,kBAAkB,SAAS,iBAAiB,CAAC;AACnD;AACA,IAAI,WAAW,CAAC,EAAE,UAAU,GAAG,EAAE,GAAG;AACpC;AACA,QAAQ,MAAM,WAAW,GAAG;AAC5B,YAAY,GAAG,EAAE;AACjB,YAAY,GAAG,UAAU;AACzB,YAAY,GAAG;AACf,gBAAgB,MAAM,EAAE,gBAAgB;AACxC,aAAa;AACb,UAAS;AACT;AACA,QAAQ,KAAK,EAAE,WAAW,GAAE;AAC5B;AACA,KAAK;AACL;AACA,IAAI,KAAK,CAAC,wBAAwB,EAAE;AACpC;AACA,IAAI,OAAO,CAAC,GAAG;AACf;AACA,QAAQ,IAAI,MAAM,GAAG,EAAE,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,uBAAuB,EAAE,GAAG,UAAU,EAAE,YAAY,GAAE;AACvG;AACA;AACA,QAAQ,MAAM,CAAC,MAAM;AACrB,YAAY,cAAc;AAC1B,YAAY;AACZ,gBAAgB,IAAI,MAAM,MAAM;AAChC,gBAAgB,QAAQ,EAAE,EAAE;AAC5B,aAAa;AACb,YAAY,WAAW,GAAG,EAAE,MAAM,GAAG;AACrC,gBAAgB,KAAK,GAAG,GAAG;AAC3B,oBAAoB,IAAI,CAAC,MAAM,CAAC,GAAG,EAAE,GAAG,GAAE;AAC1C,iBAAiB,MAAM;AACvB,oBAAoB,IAAI,CAAC,MAAM,CAAC,GAAG,EAAE,MAAM,GAAE;AAC7C,iBAAiB;AACjB,aAAa,GAAE;AACf;AACA;AACA,QAAQ,IAAI,IAAI,IAAI,qDAAoD;AACxE,QAAQ,IAAI,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,UAAU,EAAE,IAAI,GAAE;AAC5D,QAAQ,MAAM,CAAC,KAAK,EAAE,KAAK,EAAE,EAAE,EAAE,EAAE,EAAE,WAAW,GAAG,EAAE,MAAM,GAAG;AAC9D,YAAY,KAAK,GAAG,GAAG;AACvB,gBAAgB,IAAI,CAAC,MAAM,CAAC,GAAG,EAAE,GAAG,GAAE;AACtC,aAAa,MAAM;AACnB,gBAAgB,IAAI,CAAC,MAAM,CAAC,GAAG,EAAE,MAAM,GAAE;AACzC,aAAa;AACb,SAAS,GAAE;AACX;AACA,KAAK;AACL;AACA,IAAI,IAAI,CAAC,GAAG;AACZ,QAAQ,KAAK,CAAC,IAAI,GAAE;AACpB;AACA,KAAK;AACL;AACA,IAAI,EAAE,CAAC,4BAA4B,EAAE;AACrC;;;;"}